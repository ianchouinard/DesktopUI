(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(47),c=n.n(i),s=n(4),r=n(5),l=n(7),p=n(6),d=n(8),u=(n(56),n(22)),m={text:"#565252",windowBg:"#F2F2F2",applicationBarBg:"#D8D8D8",applicationBarActionBg:"#C4C4C4",taskbarBg:"#C4C4C4",taskbarActionBg:"#D8D8D8",accent:"#0F9AE8"},h=o.a.createContext(),g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={applications:{},openApplications:{},theme:n.props.theme||m},n.registerApplications=function(e){var t=Object(u.a)({},n.state.applications);e.forEach(function(e){t[e.id]=e}),n.setState({applications:t})},n.toggleApplication=function(e,t){var a=Object(u.a)({},n.state.openApplications);a[e]=t,n.setState({openApplications:a})},n.toggleMinimizedApplication=function(e,t){var a=Object(u.a)({},n.state.applications);a[e]&&(a[e].minimized=t),n.setState({applications:a})},n.updateTheme=function(e){n.setState({theme:e})},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(h.Provider,{value:{state:this.state,toggleApplication:this.toggleApplication,registerApplications:this.registerApplications,toggleMinimizedApplication:this.toggleMinimizedApplication,updateTheme:this.updateTheme}},this.props.children)}}]),t}(a.Component),f=h.Consumer,x=n(9),b=n.n(x),k=n(1),v=n.n(k),C={desktop:{display:"flex",flexWrap:"wrap",position:"relative",width:"100%",height:"100vh",overflow:"hidden",background:"#8C8888",fontFamily:"sans-serif",color:"#565252"}},E=v()(C)(function(e){var t=e.classes,n=e.children,a=e.id,i=e.desktopContext;return o.a.createElement("div",{id:a,className:t.desktop,style:{color:i.state.theme.text}},n)}),y={windowActions:{display:"flex",flexWrap:"wrap",alignItems:"center",marginRight:"5px","& button":{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 3px",width:"24px",height:"24px",background:"#C4C4C4",border:"none",outline:"none",borderRadius:"100%",boxShadow:"none",cursor:"pointer","& i":{transform:"translateY(1px)"}}}},w=v()(y)(function(e){var t=e.classes,n=e.onSizeChange,a=e.onMinimize,i=e.onClose,c=e.desktopContext;return o.a.createElement("div",{className:t.windowActions},o.a.createElement("button",{title:"Maximize Window",style:{background:c.state.theme.applicationBarActionBg},onClick:n},o.a.createElement(b.a,{icon:"tab_unselected",size:12,color:c.state.theme.text})),o.a.createElement("button",{title:"Minimize Window",style:{background:c.state.theme.applicationBarActionBg},onClick:a},o.a.createElement(b.a,{icon:"remove",size:14,color:c.state.theme.text})),o.a.createElement("button",{title:"Close Window",style:{background:c.state.theme.applicationBarActionBg},onClick:i},o.a.createElement(b.a,{icon:"clear",size:14,color:c.state.theme.text})))}),A=n(21),O=n(20),z=n.n(O),j={anchor:{cursor:"pointer"},options:{position:"fixed",listStyle:"none",margin:"0",padding:"0",background:"#C4C4C4",color:"#333",border:"1px solid #D8D8D8",boxShadow:"-2px 2px 4px 0px rgba(0,0,0,0.35)"}},S={contextSubMenu:{position:"absolute",left:"135px",margin:"-20px 0 0 0",padding:"0",background:"#D8D8D8",listStyle:"none"}},I=v()(S)(function(e){var t=e.classes,n=e.options;return o.a.createElement("ul",{className:t.contextSubMenu},n.map(function(e){return o.a.createElement(D,{key:e.id,option:e,isSubOption:!0})}))}),B={contextMenuOption:{width:"125px",padding:"5px",fontSize:"12px",cursor:"pointer","& > ul":{display:"none"},"&:hover":{background:"#D8D8D8","& > ul":{display:"block"}}},subOption:{"&:hover":{background:"#C4C4C4"}}},D=v()(B)(function(e){var t=e.classes,n=e.option,a=e.isSubOption;return o.a.createElement("li",{className:t.contextMenuOption+" "+(a?t.subOption:"")},n.label,n.options&&n.options.length>0&&o.a.createElement(I,{options:n.options}))}),T=[{label:"Ctx One",id:"op1",action:function(e){alert("ha")}},{label:"Ctx Two",id:"op2",action:function(e){alert("boo")},options:[{label:"Sub Option 1",id:"sub1"},{label:"Sub Option 2",id:"sub2",options:[{label:"sub sub 1",id:"subsub1"}]},{label:"Sub Option 3",id:"sub3"}]},{label:"Ctx Three",id:"op3",action:function(e){alert("boo")}}],N=v()(j)(function(e){var t=e.classes,n=e.anchor,i=Object(a.useState)({x:0,y:0}),c=Object(A.a)(i,2),s=c[0],r=c[1],l=Object(a.useState)(!1),p=Object(A.a)(l,2),d=p[0],u=p[1],m=Object(a.useState)("context-menu-".concat(z()())),h=Object(A.a)(m,1)[0];Object(a.useEffect)(function(){return document.addEventListener("click",g),function(){document.removeEventListener("click",g)}});var g=function(e){document.getElementById(h).contains(e.target)||u(!1)};return o.a.createElement("div",{id:h},o.a.createElement("div",{className:t.anchor,onClick:function(e){r({x:e.pageX+12,y:e.pageY+12}),u(!d)}},n),d&&o.a.createElement("ul",{className:t.options,style:{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}},T.map(function(e){return o.a.createElement(D,{key:e.id,option:e})})))}),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.contextActions},o.a.createElement("div",{className:e.actionsMenuTrigger},o.a.createElement(N,{anchor:o.a.createElement(b.a,{icon:"view_list",size:27})})))}}]),t}(a.Component),W=v()({contextActions:{display:"flex",paddingLeft:"10px"},actionsMenuTrigger:{display:"flex",alignItems:"center",height:"40px",paddingTop:"5px"}})(M),L={applicationBar:{display:"flex",flexWrap:"no-wrap",justifyContent:"space-between",alignItems:"center",height:"45px",background:"#D8D8D8"},title:{fontSize:"18px"}},F=v()(L)(function(e){var t=e.classes,n=e.title,a=e.onSizeChange,i=e.onMinimize,c=e.onClose,s=e.desktopContext;return o.a.createElement("div",{className:t.applicationBar,style:{background:s.state.theme.applicationBarBg}},o.a.createElement("div",{className:t.actions},o.a.createElement(W,null)),o.a.createElement("div",{className:t.meta},o.a.createElement("div",{className:t.title},n)),o.a.createElement("div",{className:t.window},o.a.createElement(w,{onSizeChange:a,onClose:c,onMinimize:i,desktopContext:s})))}),X={application:{position:"absolute",overflow:"auto",background:"#F2F2F2",boxShadow:"0px 0px 6px 0px rgba(0,0,0,0.45)",resize:"both",transition:"width 350ms, height 350ms"},barArea:{position:"relative"},barMask:{position:"absolute",top:"0",left:"50%",marginLeft:"-125px",width:"250px",height:"45px",zIndex:"2",cursor:"move"},appArea:{resize:"both"}},Y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={guid:"application-".concat(z()()),width:800,height:520,x:0,y:0,clickTrack:0,dragXTrack:0,dragYTrack:0},n.setInitialPosition=function(){var e=document.getElementById(n.props.zoneId);if(e){var t=e.offsetWidth,a=e.offsetHeight;n.setState({x:t/2-n.state.width/2,y:a/2-n.state.height/2})}else console.error("zoneId must match an id of a app zone")},n.dragBar=function(e){e.preventDefault(),n.setState({dragXTrack:e.clientX,dragYTrack:e.clientY},function(){document.addEventListener("mouseup",n.removeAppDrag),document.addEventListener("mousemove",n.dragAppWindow)})},n.dragAppWindow=function(e){e.preventDefault();var t=document.getElementById(n.state.guid);n.setState({dragXTrack:e.clientX,dragYTrack:e.clientY,x:t.offsetLeft-(n.state.dragXTrack-e.clientX),y:t.offsetTop-(n.state.dragYTrack-e.clientY)})},n.removeAppDrag=function(){document.removeEventListener("mouseup",n.removeAppDrag),document.removeEventListener("mousemove",n.dragAppWindow)},n.onBarClick=function(){n.setState({clickTrack:n.state.clickTrack+1},function(){2===n.state.clickTrack?n.setSize():setTimeout(function(){n.setState({clickTrack:0})},1200)})},n.setSize=function(){var e=document.getElementById(n.props.zoneId),t=e.offsetWidth,a=e.offsetHeight,o=800,i=520;n.state.width!==t&&n.state.height!==a&&(o=t,i=a),n.setState({width:o,height:i},n.setInitialPosition)},n.setLayer=function(){var e=document.querySelectorAll(".desktop-ui-application");e&&e.forEach(function(e){e.style.zIndex=1}),document.getElementById(n.state.guid).style.zIndex=2},n.minimizeApplication=function(){n.setInitialPosition(),n.props.desktopContext.toggleMinimizedApplication(n.props.appId,!0)},n.closeApplication=function(){n.props.desktopContext.toggleApplication(n.props.appId,!1)},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setInitialPosition(),this.setLayer()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.title,i=e.desktopContext,c=e.appId,s=this.state,r=s.guid,l=s.width,p=s.height,d=s.x,u=s.y,m=i.state.applications[c].minimized,h={width:m?" 0px":"".concat(l,"px"),height:m?"0px":"".concat(p,"px"),top:"".concat(u,"px"),left:"".concat(d,"px"),background:i.state.theme.windowBg};return o.a.createElement("div",{id:r,style:h,className:t.application+" desktop-ui-application",onClick:this.setLayer},o.a.createElement("div",{id:"bar-".concat(r),className:t.barArea,onMouseDown:this.dragBar},o.a.createElement(F,{title:a,onSizeChange:this.setSize,onClose:this.closeApplication,onMinimize:this.minimizeApplication,desktopContext:i}),o.a.createElement("div",{className:t.barMask,onClick:this.onBarClick})),o.a.createElement("div",{className:t.appArea},n))}}]),t}(a.Component),R=v()(X)(Y),P={appZone:{position:"relative",margin:"0 auto",width:"100%",height:"calc(100% - 65px)",overflow:"hidden"}},U=v()(P)(function(e){var t=e.classes,n=e.id,a=e.children;return o.a.createElement("div",{id:n,className:t.appZone},a)}),H={systemIcon:{display:"flex",justifyContent:"center",alignItems:"center",width:"45px",height:"45px",background:"#D8D8D8",borderRadius:"100%",fontSize:"35px",color:"#5A5A5A",cursor:"pointer"}},J=v()(H)(function(e){var t=e.classes,n=e.icon,a=e.title,i=e.onClick,c=e.color,s=e.background;return o.a.createElement("div",{className:t.systemIcon,title:a,onClick:i,color:c,style:{background:s}},n)}),Z=function(e){var t=e.desktopContext,n=e.appId,a=e.application;return o.a.createElement(J,{icon:a.icon,title:a.name,onClick:function(){var e=t.state.openApplications[n],a=t.state.applications[n].minimized;e?a&&t.toggleMinimizedApplication(n,!1):t.toggleApplication(n,!0)},color:t.state.theme.text,background:t.state.theme.taskbarActionBg})},_={taskbar:{display:"flex",justifyContent:"center",width:"100%",height:"65px",background:"#C4C4C4"},task:{display:"flex",justifyContent:" center",alignItems:"center",position:"relative",width:"65px",height:"65px","&:after, &:before":{content:'""',position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",height:"4px",width:"55px",maxWidth:"0",borderTopRightRadius:"4px",borderTopLeftRadius:"4px",transition:"all 250ms"},"&:after":{transition:"all 450ms"},"&:hover::before, &.minimized::before":{background:"#848484",maxWidth:"55px"},"&.open::after":{background:"#0F9AE8",maxWidth:"55px"},"&.minimized::after":{maxWidth:"0"}}},q=v()(_)(function(e){var t=e.classes,n=e.desktopContext,a=n.state.applications;return o.a.createElement("div",{className:t.taskbar,style:{background:n.state.theme.taskbarBg}},Object.keys(a).map(function(e){return o.a.createElement("div",{key:e,className:t.task+(n.state.openApplications[e]?" open":"")+(n.state.applications[e].minimized?" minimized":"")},o.a.createElement(Z,{desktopContext:n,appId:e,application:n.state.applications[e]}))}))}),$=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.welcome},o.a.createElement("h2",null,"React Desktop UI Experiment."),o.a.createElement("p",null,"Experimenting with a desktop style ui using react. Currentl supports multiple applications which are essentially child components wrapped in an application component. The allows for a flexible implementation (would play nicely with MUI), applications could be treated as separate projects or plugins. A DesktopContext is provided to manage open applications and desktop state. Could be useful as an intranet ui, or as an interface for controlling a remote desktop."),o.a.createElement("hr",null),o.a.createElement("h3",null,"Todo"),o.a.createElement("ul",null,o.a.createElement("li",null,"Finish the context menu component"),o.a.createElement("li",null,"Documentation for components"),o.a.createElement("li",null,"Responsive UI"),o.a.createElement("li",null,"Starter applications in a separate repo. (Ex: settings, file manager, etc...)")))}}]),t}(a.Component),G=v()({welcome:{padding:"20px",textAlign:"center","& h3, & ul":{textAlign:"left"}}})($),K=n(50),Q=n.n(K),V=function(e){return Object(a.useEffect)(function(){e.desktopContext.registerApplications([{id:"welcome-app",icon:o.a.createElement(Q.a,{style:{fill:e.desktopContext.state.theme.text}}),name:"Welcome"},{id:"components-app",icon:o.a.createElement(b.a,{icon:"widgets",color:e.desktopContext.state.theme.text}),name:"components"}])},[]),o.a.createElement(E,{id:"desktop",desktopContext:e.desktopContext},o.a.createElement(U,{id:"apps"},Boolean(e.desktopContext.state.openApplications["welcome-app"])&&o.a.createElement(R,{title:"Welcome",zoneId:"apps",appId:"welcome-app",desktopContext:e.desktopContext},o.a.createElement(G,{ctx:e.desktopContext})),Boolean(e.desktopContext.state.openApplications["components-app"])&&o.a.createElement(R,{title:"Components",zoneId:"apps",appId:"components-app",desktopContext:e.desktopContext},"Components")),o.a.createElement(q,{desktopContext:e.desktopContext}))},ee=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,{theme:m},o.a.createElement(f,null,function(e){return o.a.createElement(V,{desktopContext:e})})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){e.exports=n(129)},56:function(e,t,n){}},[[51,1,2]]]);
//# sourceMappingURL=main.6b2b5353.chunk.js.map